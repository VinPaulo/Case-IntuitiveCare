(()=>{"use strict";var e={578(e,a,t){var s=t(751),l=t(810),r=t(641),o=t(33),n=t(953);const i={id:"app"},c={class:"navbar"},d={class:"container",style:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},u={class:"links",style:{display:"flex","align-items":"center"}},v={class:"container"},p={__name:"App",setup(e){const a=(0,n.KR)(!1),t=()=>{a.value=!a.value,document.documentElement.setAttribute("data-theme",a.value?"dark":"light"),localStorage.setItem("theme",a.value?"dark":"light")};return(0,r.sV)(()=>{const e=localStorage.getItem("theme");e?(a.value="dark"===e,document.documentElement.setAttribute("data-theme",e)):window.matchMedia("(prefers-color-scheme: dark)").matches&&(a.value=!0,document.documentElement.setAttribute("data-theme","dark"))}),(e,s)=>{const l=(0,r.g2)("router-link"),n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("nav",c,[(0,r.Lk)("div",d,[s[2]||(s[2]=(0,r.Lk)("span",{class:"logo"},"Case Intuitive Care - ANS Dashboard",-1)),(0,r.Lk)("div",u,[(0,r.bF)(l,{to:"/"},{default:(0,r.k6)(()=>[...s[0]||(s[0]=[(0,r.eW)("Gráfico de Crescimento",-1)])]),_:1}),(0,r.bF)(l,{to:"/operadoras"},{default:(0,r.k6)(()=>[...s[1]||(s[1]=[(0,r.eW)("Lista de Operadoras",-1)])]),_:1}),(0,r.Lk)("button",{onClick:t,class:"theme-btn"},(0,o.v_)(a.value?"Claro":"Escuro"),1)])])]),(0,r.Lk)("main",v,[(0,r.bF)(n)])])}}},k=p,b=k;var L=t(29),m=t(335);const h=m.A.create({baseURL:"http://127.0.0.1:8000/api"}),g=h,f={class:"table-container"},y={class:"table-header"},_={class:"header-main"},C={class:"search-box"},E={class:"table-wrapper"},x={class:"styled-table"},R={key:0,class:"no-hover"},w={key:1,class:"no-hover"},A={class:"badge"},O={class:"bold"},X={class:"uf-tag"},K={class:"text-center"},$=["onClick"],F={class:"table-footer"},N={class:"pagination-info"},P={class:"pagination-controls"},S=["disabled"],j={class:"page-indicator"},D=["disabled"],I={__name:"OperadoraTable",setup(e){const a=(0,n.KR)([]),t=(0,n.KR)(0),l=(0,n.KR)(1),i=(0,n.KR)(10),c=(0,n.KR)(""),d=(0,n.KR)(!1),u=(0,r.EW)(()=>Math.ceil(t.value/i.value)||1),v=e=>{if(!e)return"-";const a=e.replace(/\D/g,"");return a.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,"$1.$2.$3/$4-$5")},p=async()=>{d.value=!0;try{const{data:e}=await g.get("/operadoras",{params:{page:l.value,limit:i.value,search:c.value}});a.value=e.data,t.value=e.total}catch(e){console.error("Erro ao carregar operadoras",e)}finally{d.value=!1}};let k=null;const b=()=>{clearTimeout(k),k=setTimeout(()=>{l.value=1,p()},500)},L=e=>{l.value+=e,p()};return(0,r.sV)(p),(e,n)=>((0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("div",y,[(0,r.Lk)("div",_,[n[3]||(n[3]=(0,r.Lk)("div",null,[(0,r.Lk)("h2",null,"Operadoras Cadastradas"),(0,r.Lk)("p",null,"Gerenciamento e visualização das operadoras ativas na ANS")],-1)),(0,r.Lk)("div",C,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),onInput:b,type:"text",placeholder:"Buscar por nome, CNPJ ou Registro..."},null,544),[[s.Jo,c.value]])])])]),(0,r.Lk)("div",E,[(0,r.Lk)("table",x,[n[6]||(n[6]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Registro ANS"),(0,r.Lk)("th",null,"Razão Social"),(0,r.Lk)("th",null,"CNPJ"),(0,r.Lk)("th",null,"UF"),(0,r.Lk)("th",{class:"text-center"},"Ações")])],-1)),(0,r.Lk)("tbody",null,[d.value?((0,r.uX)(),(0,r.CE)("tr",R,[...n[4]||(n[4]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"Carregando dados...",-1)])])):0===a.value.length?((0,r.uX)(),(0,r.CE)("tr",w,[...n[5]||(n[5]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"Nenhuma operadora encontrada.",-1)])])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.value,a=>((0,r.uX)(),(0,r.CE)("tr",{key:a.registro_ans},[(0,r.Lk)("td",null,[(0,r.Lk)("span",A,(0,o.v_)(a.registro_ans),1)]),(0,r.Lk)("td",O,(0,o.v_)(a.razao_social),1),(0,r.Lk)("td",null,(0,o.v_)(v(a.cnpj)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",X,(0,o.v_)(a.uf),1)]),(0,r.Lk)("td",K,[(0,r.Lk)("button",{onClick:t=>e.$router.push("/operadoras/"+a.registro_ans),class:"btn-detail"}," Ver Detalhes ",8,$)])]))),128))])])]),(0,r.Lk)("div",F,[(0,r.Lk)("div",N," Mostrando "+(0,o.v_)(a.value.length)+" de "+(0,o.v_)(t.value)+" registros ",1),(0,r.Lk)("div",P,[(0,r.Lk)("button",{disabled:1===l.value,onClick:n[1]||(n[1]=e=>L(-1)),class:"btn-page"},"Anterior",8,S),(0,r.Lk)("span",j,"Página "+(0,o.v_)(l.value)+" de "+(0,o.v_)(u.value),1),(0,r.Lk)("button",{disabled:l.value>=u.value,onClick:n[2]||(n[2]=e=>L(1)),class:"btn-page"},"Próximo",8,D)])])]))}};var T=t(262);const V=(0,T.A)(I,[["__scopeId","data-v-31138b99"]]),M=V,z={class:"details-container"},B={key:0,class:"loading-state"},J={key:1,class:"error-state"},U={class:"header-actions"},W={class:"detail-card"},Q={class:"card-header"},q={class:"card-body"},G={class:"info-grid"},H={class:"info-item"},Y={class:"info-item"},Z={class:"info-item"},ee={class:"uf-tag"},ae={class:"despesas-section"},te={key:0,class:"despesas-table-wrapper"},se={class:"despesas-table"},le={class:"text-right bold"},re={key:1,class:"empty-despesas"},oe={__name:"OperadoraDetails",setup(e){const a=(0,L.lq)(),t=(0,n.KR)(null),s=(0,n.KR)([]),l=(0,n.KR)(!0),i=(0,n.KR)(null),c=e=>e?e.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,"$1.$2.$3/$4-$5"):"-",d=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return(0,r.sV)(async()=>{l.value=!0;try{const e=a.params.id,[l,r]=await Promise.all([g.get(`/operadoras/${e}`),g.get(`/operadoras/${e}/despesas`)]);t.value=l.data,s.value=r.data}catch(e){i.value="Não foi possível carregar os detalhes desta operadora. Verifique sua conexão.",console.error(e)}finally{l.value=!1}}),(e,a)=>((0,r.uX)(),(0,r.CE)("div",z,[l.value&&!i.value?((0,r.uX)(),(0,r.CE)("div",B,[...a[2]||(a[2]=[(0,r.Lk)("p",null,"Carregando informações da operadora...",-1)])])):(0,r.Q3)("",!0),i.value?((0,r.uX)(),(0,r.CE)("div",J,[(0,r.Lk)("p",null,(0,o.v_)(i.value),1),(0,r.Lk)("button",{onClick:a[0]||(a[0]=a=>e.$router.back()),class:"btn-back"},"Voltar para a lista")])):(0,r.Q3)("",!0),t.value?((0,r.uX)(),(0,r.CE)("div",{key:t.value.registro_ans},[(0,r.Lk)("div",U,[(0,r.Lk)("button",{onClick:a[1]||(a[1]=a=>e.$router.back()),class:"btn-back"},[...a[3]||(a[3]=[(0,r.Lk)("span",null,"←",-1),(0,r.eW)(" Voltar para a lista ",-1)])])]),(0,r.Lk)("div",W,[(0,r.Lk)("div",Q,[a[4]||(a[4]=(0,r.Lk)("div",{class:"status-badge"},"Operadora Ativa",-1)),(0,r.Lk)("h1",null,(0,o.v_)(t.value.razao_social),1)]),(0,r.Lk)("div",q,[(0,r.Lk)("div",G,[(0,r.Lk)("div",H,[a[5]||(a[5]=(0,r.Lk)("label",null,"Registro ANS",-1)),(0,r.Lk)("p",null,(0,o.v_)(t.value.registro_ans),1)]),(0,r.Lk)("div",Y,[a[6]||(a[6]=(0,r.Lk)("label",null,"CNPJ",-1)),(0,r.Lk)("p",null,(0,o.v_)(c(t.value.cnpj)),1)]),(0,r.Lk)("div",Z,[a[7]||(a[7]=(0,r.Lk)("label",null,"Localização (UF)",-1)),(0,r.Lk)("p",null,[(0,r.Lk)("span",ee,(0,o.v_)(t.value.uf),1)])])])])]),(0,r.Lk)("div",ae,[a[10]||(a[10]=(0,r.Lk)("h3",null,"Histórico de Despesas",-1)),a[11]||(a[11]=(0,r.Lk)("p",{class:"section-desc"},"Detalhamento dos valores reportados por trimestre",-1)),s.value.length>0?((0,r.uX)(),(0,r.CE)("div",te,[(0,r.Lk)("table",se,[a[8]||(a[8]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Ano"),(0,r.Lk)("th",null,"Trimestre"),(0,r.Lk)("th",{class:"text-right"},"Valor Despesas")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.value,(e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,o.v_)(e.ano),1),(0,r.Lk)("td",null,(0,o.v_)(e.trimestre)+"º Trimestre",1),(0,r.Lk)("td",le,(0,o.v_)(d(e.valordespesas)),1)]))),128))])])])):((0,r.uX)(),(0,r.CE)("div",re,[...a[9]||(a[9]=[(0,r.Lk)("p",null,"Nenhuma despesa processada para esta operadora.",-1)])]))])])):(0,r.Q3)("",!0)]))}},ne=(0,T.A)(oe,[["__scopeId","data-v-1fa03193"]]),ie=ne;var ce=t(527),de=t(468);const ue={class:"card"},ve={class:"chart-container"},pe={key:1,class:"loading-state"},ke={__name:"DespesasChart",setup(e){de.t1.register(de.hE,de.m_,de.s$,de.E8,de.PP,de.kc);const a=(0,n.KR)(!1),t=(0,n.KR)({labels:[],datasets:[]}),s=(0,n.KR)({indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>{let a=e.dataset.label||"";return a&&(a+=": "),null!==e.parsed.x&&(a+=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.parsed.x)),a}}}},scales:{x:{ticks:{color:"#2c3e50",callback:e=>e>=1e9?(e/1e9).toFixed(1)+" bi":e>=1e6?(e/1e6).toFixed(1)+" mi":e},grid:{color:"#e2e8f0"}},y:{ticks:{color:"#2c3e50"},grid:{display:!1}}}}),l=()=>{const e="dark"===document.documentElement.getAttribute("data-theme"),a=e?"#e2e8f0":"#2c3e50",t=e?"#4a5568":"#e2e8f0";s.value={...s.value,scales:{x:{...s.value.scales.x,ticks:{...s.value.scales.x.ticks,color:a},grid:{color:t}},y:{...s.value.scales.y,ticks:{...s.value.scales.y.ticks,color:a},grid:{display:!1}}}}};let o=null;return(0,r.sV)(async()=>{l(),o=new MutationObserver(l),o.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]});try{const e=await g.get("/analise/despesas-por-uf"),s=e.data;s&&s.length>0&&(t.value={labels:s.map(e=>e.uf),datasets:[{label:"Total de Despesas",backgroundColor:"#42b983",borderRadius:6,data:s.map(e=>e.total_despesa)}]}),a.value=!0}catch(e){console.error("Erro na requisição do gráfico:",e),a.value=!0}}),(0,r.hi)(()=>{o&&o.disconnect()}),(e,l)=>((0,r.uX)(),(0,r.CE)("div",ue,[l[1]||(l[1]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h2",{class:"chart-title"},"Distribuição de Despesas por UF"),(0,r.Lk)("p",{class:"chart-subtitle"},"Estados com maior volume de gastos registrados")],-1)),(0,r.Lk)("div",ve,[a.value?((0,r.uX)(),(0,r.Wv)((0,n.R1)(ce.yP),{data:t.value,options:s.value,key:JSON.stringify(t.value)},null,8,["data","options"])):((0,r.uX)(),(0,r.CE)("div",pe,[...l[0]||(l[0]=[(0,r.Lk)("div",{class:"spinner"},null,-1),(0,r.Lk)("p",null,"Carregando dados geográficos...",-1)])]))])]))}},be=(0,T.A)(ke,[["__scopeId","data-v-1d6de5c6"]]),Le=be,me=[{path:"/",component:Le},{path:"/operadoras",component:M},{path:"/operadoras/:id",component:ie,props:!0}],he=(0,L.aE)({history:(0,L.LA)(),routes:me}),ge=he,fe=(0,s.Ef)(b);fe.use((0,l.Ey)()),fe.use(ge),fe.mount("#app")}},a={};function t(s){var l=a[s];if(void 0!==l)return l.exports;var r=a[s]={exports:{}};return e[s](r,r.exports,t),r.exports}t.m=e,(()=>{var e=[];t.O=(a,s,l,r)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,l,r]=e[d],n=!0,i=0;i<s.length;i++)(!1&r||o>=r)&&Object.keys(t.O).every(e=>t.O[e](s[i]))?s.splice(i--,1):(n=!1,r<o&&(o=r));if(n){e.splice(d--,1);var c=l();void 0!==c&&(a=c)}}return a}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,l,r]}})(),(()=>{t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var l,r,[o,n,i]=s,c=0;if(o.some(a=>0!==e[a])){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(i)var d=i(t)}for(a&&a(s);c<o.length;c++)r=o[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},s=self["webpackChunkfrontend_ans"]=self["webpackChunkfrontend_ans"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var s=t.O(void 0,[504],()=>t(578));s=t.O(s)})();
//# sourceMappingURL=app.43743eec.js.map