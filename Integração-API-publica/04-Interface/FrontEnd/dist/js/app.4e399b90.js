(()=>{"use strict";var e={132(e,a,t){var s=t(751),l=t(810),r=t(641),o=t(33),n=t(953);const i={id:"app"},d={class:"navbar"},c={class:"container",style:{display:"flex","justify-content":"space-between","align-items":"center",width:"100%"}},u={class:"links",style:{display:"flex","align-items":"center"}},v={class:"container"},p={__name:"App",setup(e){const a=(0,n.KR)(!1),t=()=>{a.value=!a.value,document.documentElement.setAttribute("data-theme",a.value?"dark":"light"),localStorage.setItem("theme",a.value?"dark":"light")};return(0,r.sV)(()=>{const e=localStorage.getItem("theme");e?(a.value="dark"===e,document.documentElement.setAttribute("data-theme",e)):window.matchMedia("(prefers-color-scheme: dark)").matches&&(a.value=!0,document.documentElement.setAttribute("data-theme","dark"))}),(e,s)=>{const l=(0,r.g2)("router-link"),n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("nav",d,[(0,r.Lk)("div",c,[s[2]||(s[2]=(0,r.Lk)("span",{class:"logo"},"Case Intuitive Care - ANS Dashboard",-1)),(0,r.Lk)("div",u,[(0,r.bF)(l,{to:"/"},{default:(0,r.k6)(()=>[...s[0]||(s[0]=[(0,r.eW)("Gráfico de Crescimento",-1)])]),_:1}),(0,r.bF)(l,{to:"/operadoras"},{default:(0,r.k6)(()=>[...s[1]||(s[1]=[(0,r.eW)("Lista de Operadoras",-1)])]),_:1}),(0,r.Lk)("button",{onClick:t,class:"theme-btn"},(0,o.v_)(a.value?"Claro":"Escuro"),1)])])]),(0,r.Lk)("main",v,[(0,r.bF)(n)])])}}},k=p,b=k;var L=t(29),m=t(527),h=t(468),g=t(335);const y=g.A.create({baseURL:"http://127.0.0.1:8000/api"}),f=y,_={class:"card"},C={class:"chart-container"},E={key:1,class:"loading-state"},x={__name:"HomeView",setup(e){h.t1.register(h.hE,h.m_,h.s$,h.E8,h.PP,h.kc);const a=(0,n.KR)(!1),t=(0,n.KR)({labels:[],datasets:[]}),s=(0,n.KR)({indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>{let a=e.dataset.label||"";return a&&(a+=": "),null!==e.parsed.x&&(a+=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.parsed.x)),a}}}},scales:{x:{ticks:{color:"#2c3e50",callback:e=>e>=1e9?(e/1e9).toFixed(1)+" bi":e>=1e6?(e/1e6).toFixed(1)+" mi":e},grid:{color:"#e2e8f0"}},y:{ticks:{color:"#2c3e50"},grid:{display:!1}}}}),l=()=>{const e="dark"===document.documentElement.getAttribute("data-theme"),a=e?"#e2e8f0":"#2c3e50",t=e?"#4a5568":"#e2e8f0";s.value={...s.value,scales:{x:{...s.value.scales.x,ticks:{...s.value.scales.x.ticks,color:a},grid:{color:t}},y:{...s.value.scales.y,ticks:{...s.value.scales.y.ticks,color:a},grid:{display:!1}}}}};let o=null;return(0,r.sV)(async()=>{l(),o=new MutationObserver(l),o.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]});try{const e=await f.get("/analise/despesas-por-uf"),s=e.data;s&&s.length>0&&(t.value={labels:s.map(e=>e.uf),datasets:[{label:"Total de Despesas",backgroundColor:"rgba(16, 185, 129, 0.8)",hoverBackgroundColor:"rgba(16, 185, 129, 1)",borderRadius:8,borderSkipped:!1,data:s.map(e=>e.total_despesa)}]}),a.value=!0}catch(e){console.error("Erro na requisição do gráfico:",e),a.value=!0}}),(0,r.hi)(()=>{o&&o.disconnect()}),(e,l)=>((0,r.uX)(),(0,r.CE)("div",_,[l[1]||(l[1]=(0,r.Lk)("div",{class:"card-header"},[(0,r.Lk)("h2",{class:"chart-title"},"Distribuição de Despesas por UF"),(0,r.Lk)("p",{class:"chart-subtitle"},"Estados com maior volume de gastos registrados")],-1)),(0,r.Lk)("div",C,[a.value?((0,r.uX)(),(0,r.Wv)((0,n.R1)(m.yP),{data:t.value,options:s.value,key:JSON.stringify(t.value)},null,8,["data","options"])):((0,r.uX)(),(0,r.CE)("div",E,[...l[0]||(l[0]=[(0,r.Lk)("div",{class:"spinner"},null,-1),(0,r.Lk)("p",null,"Carregando dados geográficos...",-1)])]))])]))}};var R=t(262);const w=(0,R.A)(x,[["__scopeId","data-v-b20767b4"]]),A=w,O={class:"table-container"},X={class:"table-header"},K={class:"header-main"},$={class:"search-box"},F={class:"table-wrapper"},S={class:"styled-table"},N={key:0,class:"no-hover"},P={key:1,class:"no-hover"},V={class:"badge"},j={class:"bold"},I={class:"uf-tag"},D={class:"text-center"},T=["onClick"],B={class:"table-footer"},M={class:"pagination-info"},z={class:"pagination-controls"},J=["disabled"],U={class:"page-indicator"},W=["disabled"],Q={__name:"OperadorasView",setup(e){const a=(0,n.KR)([]),t=(0,n.KR)(0),l=(0,n.KR)(1),i=(0,n.KR)(10),d=(0,n.KR)(""),c=(0,n.KR)(!1),u=(0,r.EW)(()=>Math.ceil(t.value/i.value)||1),v=e=>{if(!e)return"-";const a=e.replace(/\D/g,"");return a.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,"$1.$2.$3/$4-$5")},p=async()=>{c.value=!0;try{const{data:e}=await f.get("/operadoras",{params:{page:l.value,limit:i.value,search:d.value}});a.value=e.data,t.value=e.total}catch(e){console.error("Erro ao carregar operadoras",e)}finally{c.value=!1}};let k=null;const b=()=>{clearTimeout(k),k=setTimeout(()=>{l.value=1,p()},500)},L=e=>{l.value+=e,p()};return(0,r.sV)(p),(e,n)=>((0,r.uX)(),(0,r.CE)("div",O,[(0,r.Lk)("div",X,[(0,r.Lk)("div",K,[n[3]||(n[3]=(0,r.Lk)("div",null,[(0,r.Lk)("h2",null,"Operadoras Cadastradas"),(0,r.Lk)("p",null,"Gerenciamento e visualização das operadoras ativas na ANS")],-1)),(0,r.Lk)("div",$,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>d.value=e),onInput:b,type:"text",placeholder:"Buscar por nome, CNPJ ou Registro..."},null,544),[[s.Jo,d.value]])])])]),(0,r.Lk)("div",F,[(0,r.Lk)("table",S,[n[6]||(n[6]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Registro ANS"),(0,r.Lk)("th",null,"Razão Social"),(0,r.Lk)("th",null,"CNPJ"),(0,r.Lk)("th",null,"UF"),(0,r.Lk)("th",{class:"text-center"},"Ações")])],-1)),(0,r.Lk)("tbody",null,[c.value?((0,r.uX)(),(0,r.CE)("tr",N,[...n[4]||(n[4]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"Carregando dados...",-1)])])):0===a.value.length?((0,r.uX)(),(0,r.CE)("tr",P,[...n[5]||(n[5]=[(0,r.Lk)("td",{colspan:"5",class:"text-center"},"Nenhuma operadora encontrada.",-1)])])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.value,a=>((0,r.uX)(),(0,r.CE)("tr",{key:a.registro_ans},[(0,r.Lk)("td",null,[(0,r.Lk)("span",V,(0,o.v_)(a.registro_ans),1)]),(0,r.Lk)("td",j,(0,o.v_)(a.razao_social),1),(0,r.Lk)("td",null,(0,o.v_)(v(a.cnpj)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",I,(0,o.v_)(a.uf),1)]),(0,r.Lk)("td",D,[(0,r.Lk)("button",{onClick:t=>e.$router.push("/operadoras/"+a.registro_ans),class:"btn-detail"}," Ver Detalhes ",8,T)])]))),128))])])]),(0,r.Lk)("div",B,[(0,r.Lk)("div",M," Mostrando "+(0,o.v_)(a.value.length)+" de "+(0,o.v_)(t.value)+" registros ",1),(0,r.Lk)("div",z,[(0,r.Lk)("button",{disabled:1===l.value,onClick:n[1]||(n[1]=e=>L(-1)),class:"btn-page"},"Anterior",8,J),(0,r.Lk)("span",U,"Página "+(0,o.v_)(l.value)+" de "+(0,o.v_)(u.value),1),(0,r.Lk)("button",{disabled:l.value>=u.value,onClick:n[2]||(n[2]=e=>L(1)),class:"btn-page"},"Próximo",8,W)])])]))}},q=(0,R.A)(Q,[["__scopeId","data-v-d8986966"]]),G=q,H={class:"details-container"},Y={key:0,class:"loading-state"},Z={key:1,class:"error-state"},ee={class:"header-actions"},ae={class:"detail-card"},te={class:"card-header"},se={class:"card-body"},le={class:"info-grid"},re={class:"info-item"},oe={class:"info-item"},ne={class:"info-item"},ie={class:"uf-tag"},de={class:"despesas-section"},ce={key:0,class:"despesas-table-wrapper"},ue={class:"despesas-table"},ve={class:"text-right bold"},pe={key:1,class:"empty-despesas"},ke={__name:"OperadoraDetailView",setup(e){const a=(0,L.lq)(),t=(0,n.KR)(null),s=(0,n.KR)([]),l=(0,n.KR)(!0),i=(0,n.KR)(null),d=e=>e?e.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,"$1.$2.$3/$4-$5"):"-",c=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return(0,r.sV)(async()=>{l.value=!0;try{const e=a.params.id,[l,r]=await Promise.all([f.get(`/operadoras/${e}`),f.get(`/operadoras/${e}/despesas`)]);t.value=l.data,s.value=r.data}catch(e){i.value="Não foi possível carregar os detalhes desta operadora. Verifique sua conexão.",console.error(e)}finally{l.value=!1}}),(e,a)=>((0,r.uX)(),(0,r.CE)("div",H,[l.value&&!i.value?((0,r.uX)(),(0,r.CE)("div",Y,[...a[2]||(a[2]=[(0,r.Lk)("p",null,"Carregando informações da operadora...",-1)])])):(0,r.Q3)("",!0),i.value?((0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("p",null,(0,o.v_)(i.value),1),(0,r.Lk)("button",{onClick:a[0]||(a[0]=a=>e.$router.back()),class:"btn-back"},"Voltar para a lista")])):(0,r.Q3)("",!0),t.value?((0,r.uX)(),(0,r.CE)("div",{key:t.value.registro_ans},[(0,r.Lk)("div",ee,[(0,r.Lk)("button",{onClick:a[1]||(a[1]=a=>e.$router.back()),class:"btn-back"},[...a[3]||(a[3]=[(0,r.Lk)("span",null,"←",-1),(0,r.eW)(" Voltar para a lista ",-1)])])]),(0,r.Lk)("div",ae,[(0,r.Lk)("div",te,[a[4]||(a[4]=(0,r.Lk)("div",{class:"status-badge"},"Operadora Ativa",-1)),(0,r.Lk)("h1",null,(0,o.v_)(t.value.razao_social),1)]),(0,r.Lk)("div",se,[(0,r.Lk)("div",le,[(0,r.Lk)("div",re,[a[5]||(a[5]=(0,r.Lk)("label",null,"Registro ANS",-1)),(0,r.Lk)("p",null,(0,o.v_)(t.value.registro_ans),1)]),(0,r.Lk)("div",oe,[a[6]||(a[6]=(0,r.Lk)("label",null,"CNPJ",-1)),(0,r.Lk)("p",null,(0,o.v_)(d(t.value.cnpj)),1)]),(0,r.Lk)("div",ne,[a[7]||(a[7]=(0,r.Lk)("label",null,"Localização (UF)",-1)),(0,r.Lk)("p",null,[(0,r.Lk)("span",ie,(0,o.v_)(t.value.uf),1)])])])])]),(0,r.Lk)("div",de,[a[10]||(a[10]=(0,r.Lk)("h3",null,"Histórico de Despesas",-1)),a[11]||(a[11]=(0,r.Lk)("p",{class:"section-desc"},"Detalhamento dos valores reportados por trimestre",-1)),s.value.length>0?((0,r.uX)(),(0,r.CE)("div",ce,[(0,r.Lk)("table",ue,[a[8]||(a[8]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Ano"),(0,r.Lk)("th",null,"Trimestre"),(0,r.Lk)("th",{class:"text-right"},"Valor Despesas")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.value,(e,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a},[(0,r.Lk)("td",null,(0,o.v_)(e.ano),1),(0,r.Lk)("td",null,(0,o.v_)(e.trimestre)+"º Trimestre",1),(0,r.Lk)("td",ve,(0,o.v_)(c(e.valordespesas)),1)]))),128))])])])):((0,r.uX)(),(0,r.CE)("div",pe,[...a[9]||(a[9]=[(0,r.Lk)("p",null,"Nenhuma despesa processada para esta operadora.",-1)])]))])])):(0,r.Q3)("",!0)]))}},be=(0,R.A)(ke,[["__scopeId","data-v-62812a1a"]]),Le=be,me=[{path:"/",component:A},{path:"/operadoras",component:G},{path:"/operadoras/:id",component:Le,props:!0}],he=(0,L.aE)({history:(0,L.LA)(),routes:me}),ge=he,ye=(0,s.Ef)(b);ye.use((0,l.Ey)()),ye.use(ge),ye.mount("#app")}},a={};function t(s){var l=a[s];if(void 0!==l)return l.exports;var r=a[s]={exports:{}};return e[s](r,r.exports,t),r.exports}t.m=e,(()=>{var e=[];t.O=(a,s,l,r)=>{if(!s){var o=1/0;for(c=0;c<e.length;c++){for(var[s,l,r]=e[c],n=!0,i=0;i<s.length;i++)(!1&r||o>=r)&&Object.keys(t.O).every(e=>t.O[e](s[i]))?s.splice(i--,1):(n=!1,r<o&&(o=r));if(n){e.splice(c--,1);var d=l();void 0!==d&&(a=d)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,l,r]}})(),(()=>{t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var l,r,[o,n,i]=s,d=0;if(o.some(a=>0!==e[a])){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(i)var c=i(t)}for(a&&a(s);d<o.length;d++)r=o[d],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},s=self["webpackChunkfrontend_ans"]=self["webpackChunkfrontend_ans"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var s=t.O(void 0,[504],()=>t(132));s=t.O(s)})();
//# sourceMappingURL=app.4e399b90.js.map